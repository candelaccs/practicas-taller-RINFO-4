programa ejercicio4
procesos
  proceso juntarFlores 
  comenzar
    mientras HayFlorEnLaEsquina
      tomarFlor
  fin
  proceso juntarPapeles 
  comenzar
    mientras HayPapelEnLaEsquina
      tomarPapel
  fin
  proceso dejarFlores
  comenzar
    mientras HayFlorEnLaBolsa
      depositarFlor
  fin
  proceso dejarPapeles
  comenzar
    mientras HayPapelEnLaBolsa
      depositarPapel
  fin
  proceso vaciarBolsa
  comenzar
    dejarFlores
    dejarPapeles
  fin
  proceso enviarMensajes (E id: numero; E tarea: numero; E av: numero; E ca: numero)
  comenzar
    si (id = 1)
      EnviarMensaje (tarea, r1)
      si (tarea <> 4)
        EnviarMensaje (av, r1)
        EnviarMensaje (ca, r1)
    sino
      EnviarMensaje (tarea, r2)
      si (Tarea <> 4)
        EnviarMensaje (av,r2)
        EnviarMensaje (ca,r2)
  fin
  proceso enviarFalsos 
  comenzar
    EnviarMensaje (F, r1)
    EnviarMensaje (F, r2)
  fin
  proceso queTarea (E tarea: numero
  comenzar
    si (tarea = 1)
      RecibirMensaje (av, jefe)
      RecibirMensaje (ca, jefe)
      BloquearEsquina (av,ca)
      Pos (av,ca)
      juntarFlores
      Pos (inicial)
      LiberarEsquina
    sino
      si (tarea = 2)
        RecibirMensaje (av,jefe)
        RecibirMensaje (ca,jefe)
        juntarPapeles
      sino 
        si (tarea = 3)
          RecibirMensaje (av, jefe)
          RecibirMensaje (ca, jefe)
          vaciarBolsa
        sino
          si (tarea = 4)
            seguir:= F
  fin
areas
  areaJ: AreaP (1,1,1,1)
  areaPC: AreaPC (2,2,100,100)
robots
  robot jefe
  variables
    id, tarea: numero
  comenzar
    repetir 10
      Random (tarea, 1,4)
      Random (id, 1,2)
      Random (av,2,100)
      Random (ca, 2,100)
      EnviarMensajes (id, tarea, av, ca)
    EnviarFalsos
  fin
  robot trabajador
  variables
    tarea: numero
    seguir: boolean
  comenzar
    mientras (seguir)
      RecibirMensaje (tarea, jefe)
        queTarea (tarea)
      
